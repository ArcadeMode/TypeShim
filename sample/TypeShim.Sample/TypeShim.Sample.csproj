<Project Sdk="Microsoft.NET.Sdk.WebAssembly">
  <PropertyGroup>
    <TargetFramework>net10.0</TargetFramework>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <OverrideHtmlAssetPlaceholders>true</OverrideHtmlAssetPlaceholders>
    <Nullable>enable</Nullable>

    <WasmFingerprintAssets>true</WasmFingerprintAssets>
    <CompressionEnabled>false</CompressionEnabled>
  </PropertyGroup>

  <ItemGroup>
    <StaticWebAssetFingerprintPattern Include="JS" Pattern="*.js" Expression="#[.{fingerprint}]!" />
  </ItemGroup>

  <PropertyGroup>
    <!--<TypeShim_GeneratedDir>../../../TypeShim</TypeShim_GeneratedDir>-->
    <TypeShim_TypeScriptOutputDirectory>../../../../TypeShim.Sample.Client/@typeshim/wasm-exports</TypeShim_TypeScriptOutputDirectory>
    <TypeShim_MSBuildMessagePriority>High</TypeShim_MSBuildMessagePriority>
  </PropertyGroup>
  
  <PropertyGroup>
    <NugetMode>false</NugetMode>
  </PropertyGroup>

  <Import Project="../../src/TypeShim/pack/TypeShim.targets" Condition="'$(NugetMode)' != true" />
  <ItemGroup Condition="'$(NugetMode)' != true">
    <ProjectReference Include="../../src/TypeShim/TypeShim.csproj" />
    <ProjectReference Include="../../src/TypeShim.Analyzers/TypeShim.Analyzers.csproj" ReferenceOutputAssembly="false" OutputItemType="Analyzer" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="Microsoft.Extensions.Hosting" />
    <PackageReference Include="TypeShim" Condition="'$(NugetMode)' == true" />

    <PackageReference Include="Microsoft.AspNetCore.Components.WebAssembly" />
    <PackageReference Include="Microsoft.AspNetCore.Components.WebAssembly.DevServer" />
  </ItemGroup>
  <ItemGroup>
    <Folder Include="wwwroot\" />
  </ItemGroup>
</Project>
